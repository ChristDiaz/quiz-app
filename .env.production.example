APP_DOMAIN=quiz.example.com
ACME_EMAIL=you@example.com

# Lowercase GitHub owner/org for GHCR image paths.
GHCR_NAMESPACE=your-github-username

# Deployment tag used by docker-compose.prod.yml.
# "main" is convenient for manual deployments.
IMAGE_TAG=main

# Backend secrets
JWT_SECRET=replace-with-a-long-random-secret
OPENAI_API_KEY=replace-with-your-openai-api-key
OPENAI_MODEL=gpt-5.2
OPENAI_GENERATE_QUESTION_IMAGES=false
OPENAI_IMAGE_MODEL=gpt-image-1
OPENAI_MAX_GENERATED_QUESTION_IMAGES=8
OPENAI_IMAGE_SIZE=1024x1024
OPENAI_IMAGE_QUALITY=medium
OPENAI_CROP_VISION_RERANK=true
OPENAI_IMAGE_SELECTION_MODEL=gpt-4.1
OPENAI_MAX_CROP_RERANK_QUESTIONS=12
OPENAI_MAX_CROP_RERANK_CANDIDATES=4
# Crop selector strategy:
# - v2 (default): enhanced ranking with table-aware scoring and one-question promotion fallback
# - v1: legacy conservative selector (no promotion, image-object-first for visual cues)
OPENAI_CROP_SELECTOR_VERSION=v2
OPENAI_DEBUG_IMAGE_SELECTION=false
OPENAI_DEBUG_IMAGE_SELECTION_TOP_CANDIDATES=3
OPENAI_IMAGE_REFERENCE_LIMIT=40

# PDF image extraction engine:
# - auto (default): use PDFium via Python when available, fallback to PDF.js
# - pdfjs: force legacy PDF.js renderer only
PDF_RENDER_ENGINE=auto
# Optional explicit Python binary for PDFium extraction.
# Example on macOS framework Python:
# PDFIUM_PYTHON_BIN=/Library/Frameworks/Python.framework/Versions/3.13/bin/python3
PDFIUM_PYTHON_BIN=
PDF_MAX_RENDER_PAGES=80
PDF_MAX_IMAGE_CROPS_PER_PAGE=2
PDF_MAX_TEXT_CROPS_PER_PAGE=2
PDF_MAX_TOTAL_CROPS=320

# Mongo credentials
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=replace-with-a-strong-root-password
MONGO_APP_USER=quizapp
MONGO_APP_PASSWORD=replace-with-a-strong-app-password
